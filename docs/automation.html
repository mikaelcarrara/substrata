<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Substrata - Framework-agnostic design tokens system</title>
  <link rel="icon" type="image/svg+xml" href="./svg/logo.svg">
  <meta name="description"
    content="A single source of truth for design decisions that survives frameworks, platforms, and time.">

  <!-- Social Media Meta Tags -->
  <meta property="og:url" content="https://mikaelcarrara.github.io/substrata/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Substrata - Framework-agnostic design tokens system">
  <meta property="og:description"
    content="A single source of truth for design decisions that survives frameworks, platforms, and time.">
  <meta property="og:image" content="https://mikaelcarrara.github.io/substrata/docs/svg/social.jpg">

  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="mikaelcarrara.github.io">
  <meta property="twitter:url" content="https://mikaelcarrara.github.io/substrata/">
  <meta name="twitter:title" content="Substrata - Framework-agnostic design tokens system">
  <meta name="twitter:description"
    content="A single source of truth for design decisions that survives frameworks, platforms, and time.">
  <meta name="twitter:image" content="https://mikaelcarrara.github.io/substrata/docs/svg/social.jpg">

  <!-- Design System -->
  <link rel="stylesheet" href="../src/substrata.css">
  <link rel="stylesheet" href="css/documentation.css">
  <link rel="stylesheet" href="../src/components/components.css">

  <!-- Syntax Highlighting -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</head>

<body>

  <!-- =========================
        Header
  ========================== -->
  <header>
    <section>
      <h1>
        <a href="./">
          <img src="svg/logo.svg" alt="Logo">
          <span>Substrata</span>
        </a>
      </h1>

      <input type="checkbox" id="menu-toggle" class="menu-toggle">
      <label for="menu-toggle" class="menu-button" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </label>

      <ul>
        <li><a href="./">Presentation</a></li>
        <li><a href="getting-started">Getting started</a></li>
        <li><a href="tokens">Tokens</a></li>
        <li><a href="components">Components</a></li>
        <li><a href="consumption">Consumption</a></li>
        <li>Automation</li>
        <li><a href="w3c-alignment">W3C alignment</a></li>
        <li><a href="governance">Governance</a></li>
      </ul>
    </section>
  </header>

  <main>

    <section class="heading">
      <h1>Authoring & Automation</h1>
      <p>Building and scaling your own Design System</p>
    </section>

    <section>

      <p>
        Substrata isn't just a set of tokens.
        This page is for <strong>Authors</strong> (Architects, Design Ops, Senior Devs) who want to use Substrata as the
        motor to build their own design systems.
      </p>

      <div class="note">
        <strong>Path 2: Authoring</strong><br>
        If you are looking to build your own tokens, validate design rules via CI, and generate machine-readable
        artifacts, you are in the right place.
      </div>

      <h2>AI-assisted workflows</h2>

      <p>Design tokens in Substrata are explicit, semantic, and framework-agnostic.
        This makes them suitable as inputs and constraints for automation and AI systems.</p>

      <p>Rather than generating arbitrary styles, AI operates within a bounded design space defined by tokens.</p>


      <h2>Real-world Use Cases to Implement Today</h2>

      <h3>1. Pre-commit Design Linting</h3>

      <pre><code class="language-bash"># .husky/pre-commit
#!/bin/bash
substrata-lint src/**/*.css --tokens=./tokens.json
# Blocks commits with hardcoded values</code></pre>

      <h3>2. AI-Assisted Component Library Migration</h3>

      <pre><code class="language-bash"># Incremental migration
ai migrate ./legacy-components \
  --from chakra-ui \
  --to substrata \
  --preserve-behavior
# Generates diffs for human review</code></pre>

      <h3>3. Design QA in CI/CD</h3>

      <pre><code class="language-yaml"># .github/workflows/design-qa.yml
- name: Validate Design Tokens
  run: |
    ai validate-pr \
      --base main \
      --head ${{ github.head_ref }} \
      --tokens substrata
    
    # Comments on PR:
    # "⚠️ 3 new hardcoded colors found"</code></pre>

      <h3>4. AI Code Review Bot</h3>

      <pre><code class="language-typescript">// PR review bot
export async function reviewPR(diff: string) {
  const prompt = `
    Analyze this CSS diff.
    Report violations of Substrata tokens.
    Suggest token-compliant alternatives.
    
    Allowed tokens: ${SUBSTRATA_TOKENS}
  `;

  const review = await llm.analyze(prompt, diff);
  await github.comment(review);
}</code></pre>

      <h2>Deep Integrations & Tooling</h2>

      <h2>Substrata CLI</h2>

      <p>The Substrata CLI is the primary tool for <strong>authoring</strong> and <strong>automating</strong> your
        design system. It handles project initialization and the generation of machine-readable artifacts.</p>

      <h3>1. Initialize Project</h3>
      <p>The <code>init</code> command sets up the necessary directory structure and configuration for a new Substrata
        project.</p>

      <pre><code class="language-bash">npx @mikaelcarrara/substrata init</code></pre>

      <p>This command performs the following actions:</p>
      <ul>
        <li>Creates <code>substrata.config.js</code> to define source and output paths.</li>
        <li>Creates the <code>src/tokens/</code> directory.</li>
        <li>Populates <code>src/tokens/</code> with sample <code>colors.css</code> and <code>spacing.css</code> files.
        </li>
      </ul>

      <h3>2. Generate Tokens</h3>
      <p>The <code>generate</code> command processes your CSS files inside the tokens directory and produces a
        machine-readable <code>tokens.json</code>.</p>

      <pre><code class="language-bash">npx @mikaelcarrara/substrata generate</code></pre>

      <p>This file acts as the bridge between your CSS variables and external tools like AI agents, linters, or other
        framework-specific configuration (e.g., Tailwind).</p>

      <h3>Roadmap: Future Integration</h3>

      <h4>1. Advanced Validation & Migration</h4>

      <pre><code class="language-bash"># Future features (Experimental):
npx @mikaelcarrara/substrata validate ./src --strict
npx @mikaelcarrara/substrata migrate --from tailwind
npx @mikaelcarrara/substrata generate button --variant primary
npx @mikaelcarrara/substrata export --format figma-tokens</code></pre>

      <h4>2. JSON Schema & TypeScript Types</h4>

      <pre><code class="language-typescript">// Should have autocomplete
import { SubstrataTokens } from '@mikaelcarrara/substrata';

type SpacingToken = SubstrataTokens['spacing']; // '1' | '2' | '3' | ...
type ColorToken = SubstrataTokens['colors']['primary']; // '100' | '200' | ...

// Build-time validation
const Button = styled.button<{ spacing: SpacingToken }>`
  padding: var(--space-${props => props.spacing});
`;</code></pre>

      <h4>3. Figma/Penpot Integration</h4>

      <pre><code class="language-javascript">// Official Figma Plugin
export async function syncToSubstrata() {
  const figmaTokens = await figma.getLocalVariables();
  const substrataTokens = transformToSubstrata(figmaTokens);

  await fs.writeFile('./tokens.json', substrataTokens);
}</code></pre>

      <h4>4. AI Context Injection Helper</h4>

      <pre><code class="language-typescript">// For use with Cursor, Copilot, etc.
import { injectSubstrataContext } from '@substrata/ai';

// Automatically adds tokens to the context window
const contextFile = injectSubstrataContext('./tokens.json');
// → Generates .cursorrules, .github/copilot-instructions.md</code></pre>

    </section>

  </main>
  <footer>
    <section>
      <p>Substrata - Framework-agnostic design tokens system</p>
      <p>
        <a href="https://github.com/mikaelcarrara/substrata" target="_blank">GitHub Repository</a>
      </p>
    </section>
  </footer>
</body>

</html>